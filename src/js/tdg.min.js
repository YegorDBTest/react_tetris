!function e(t,s,i){function n(h,a){if(!s[h]){if(!t[h]){var l="function"==typeof require&&require;if(!a&&l)return l(h,!0);if(r)return r(h,!0);var o=new Error("Cannot find module '"+h+"'");throw o.code="MODULE_NOT_FOUND",o}var m=s[h]={exports:{}};t[h][0].call(m.exports,(function(e){return n(t[h][1][e]||e)}),m,m.exports,e,t,s,i)}return s[h].exports}for(var r="function"==typeof require&&require,h=0;h<i.length;h++)n(i[h]);return n}({1:[function(e,t,s){const i={createSvgElement:e=>document.createElementNS("http://www.w3.org/2000/svg",e)};t.exports={UTILS:i}},{}],2:[function(e,t,s){const{UTILS:i}=e("./base");t.exports={SVGItem:class{constructor(e,t){this.element=i.createSvgElement(e);for(let[e,s]of Object.entries(t||{}))this.element.setAttribute(e,s)}getAttr(e){return this.element.getAttribute(e)}setAttr(e,t){this.element.setAttribute(e,t)}}}},{"./base":1}],3:[function(e,t,s){const{UTILS:i}=e("./base");class n{constructor(){this.element=this._createElement(),this.element.classList.add("tdg-layer"),this._zIndex=null,this._initialZIndex=null,this._isShowed=!0}get isShowed(){return this._isShowed}get zIndex(){return this._zIndex}set zIndex(e){if(!Number.isInteger(e))throw Error("Z-index value has to be an integer.");null==this._initialZIndex&&(this._initialZIndex=e),this.element.style.zIndex=e,this._zIndex=e}resetZIndex(){null!=this._initialZIndex&&(this.zIndex=this._initialZIndex)}_createElement(){}setDimensions(e,t){}show(){this._isShowed=!0,this.element.classList.remove("tdg-hide")}hide(){this._isShowed=!1,this.element.classList.add("tdg-hide")}}t.exports={BaseLayer:n,CanvasLayer:class extends n{constructor(){super(),this.ctx=this.element.getContext("2d")}_createElement(){return document.createElement("canvas")}setDimensions(e,t){this.element.width=e,this.element.height=t}},SVGLayer:class extends n{constructor(){super(),this.items={}}_createElement(){return i.createSvgElement("svg")}setDimensions(e,t){this.element.style.width=e+"px",this.element.style.height=t+"px"}addItem(e,t){if(e in this.items)throw Error(`Item with name "${e}" already exists.`);this.items[e]=t,this.element.appendChild(t.element)}removeItem(e){if(!(e in this.items))throw Error(`Item with name "${e}" does not exist.`);this.items[e].element.remove(),this.items[e].element=null,delete this.items[e]}}}},{"./base":1}],4:[function(e,t,s){t.exports={Screen:class{constructor(e,t){this.element=document.getElementById(e),this.element.classList.add("tdg-screen");let s=(t=t||{}).dimensions||[100,100];this.dimensions={_width:s[0],get width(){return this._width},_height:s[1],get height(){return this._height}},this._setDimensions(),this.layers={},this._activeLayerName=null}_setDimensions(){this.element.style.width=this.dimensions.width+"px",this.element.style.height=this.dimensions.height+"px"}addLayer(e,t){if(e in this.layers)throw Error(`Layer with name "${e}" already exists.`);t.zIndex=Object.keys(this.layers).length,t.setDimensions(this.dimensions.width,this.dimensions.height),this.layers[e]=t,this.element.appendChild(t.element),this._activeLayerName&&this.activateLayer(this._activeLayerName)}activateLayer(e){if(!(e in this.layers))throw Error(`Layer with name "${e}" does not exist.`);this.deactivateLayer(),this.layers[e].zIndex=Object.keys(this.layers).length,this._activeLayerName=e}deactivateLayer(){null!=this._activeLayerName&&(this.layers[this._activeLayerName].resetZIndex(),this._activeLayerName=null)}}}},{}],5:[function(e,t,s){window.TDG={items:e("./items"),layers:e("./layers"),screen:e("./screen")}},{"./items":2,"./layers":3,"./screen":4}]},{},[5]);